<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Статистика — Возраст клиентов</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container my-5">
        <h1 class="mb-4">Статистика по возрасту клиентов</h1>
        <div class="mb-3 text-end text-muted" id="user-timezone">
            <!-- Здесь появится временная зона -->
        </div>
        <img src="data:image/png;base64,{{ chart }}" alt="Гистограмма возрастов" class="img-fluid shadow rounded">
        <a href="/" class="btn btn-primary mt-4">На главную</a>
   <div class="mb-3 text-end text-muted" id="user-timezone"></div>
    <div class="mb-3 text-end text-muted" id="current-datetime"></div>
    <script>
    // Показываем временную зону
    const tz = Intl.DateTimeFormat().resolvedOptions().timeZone;
    document.getElementById('user-timezone').textContent = 'Ваша временная зона: ' + tz;

    // Функция для форматирования даты и времени
    function pad(n){return n<10?'0'+n:n}
    function showDateTime() {
        const now = new Date();
        const dateStr = pad(now.getFullYear()) + '-' + pad(now.getMonth()+1) + '-' + pad(now.getDate());
        const timeStr = pad(now.getHours()) + ':' + pad(now.getMinutes()) + ':' + pad(now.getSeconds());
        document.getElementById('current-datetime').textContent = 'Текущие дата и время: ' + dateStr + ' ' + timeStr;
    }
    showDateTime();
    setInterval(showDateTime, 1000); // Обновлять каждую секунду
    </script>
</body>
</html>