{% extends 'base.html' %}

{% block content %}
<h2>Edit Appointment</h2>
<form method="post">
    {% csrf_token %}
    
    <div class="form-group">
        <label>Service:</label>
        <p>{{ appointment.service.name }}</p>
    </div>
    
    <div class="form-group">
        <label for="doctor">Doctor:</label>
        <select name="doctor" id="doctor" class="form-control" required>
            {% for doctor in doctors %}
                <option value="{{ doctor.id }}" {% if doctor == appointment.doctor %}selected{% endif %}>
                    Dr. {{ doctor.user.get_full_name }}
                </option>
            {% endfor %}
        </select>
    </div>
    
    <div class="form-group">
        <label for="date">Date:</label>
        <input type="date" name="date" id="date" class="form-control" 
               value="{{ current_date|date:'Y-m-d' }}" required>
    </div>
    
    <div class="form-group">
        <label for="time">Time:</label>
        <input type="time" name="time" id="time" class="form-control" 
               value="{{ current_time|time:'H:i' }}" required>
    </div>
    
    <button type="submit" class="btn btn-primary">Save Changes</button>
    <a href="{% url 'client_cabinet' %}" class="btn btn-secondary">Cancel</a>
</form>
{% endblock %}