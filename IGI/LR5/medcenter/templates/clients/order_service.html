{% extends "base.html" %}
{% block content %}
<div class="container mt-5">
    <h2>Информация об услуге</h2>
    <ul>
        <li><strong>Название:</strong> {{ service.name }}</li>
        <li><strong>Стоимость:</strong> {{ service.price }} BYN</li>
        <li><strong>Описание:</strong> {{ service.description }}</li>
    </ul>
    <h4 class="mt-4">Выберите дату и время для записи</h4>
    <form method="post">
        {% csrf_token %}
        <table class="table table-dark table-bordered text-center align-middle" style="max-width:600px;">
            {% comment %} <tr>
                <th>Дата</th>
                {% for hour in hours %}
                    <th>{{ hour }}:00</th>
                {% endfor %}
            </tr> {% endcomment %}
            {% for day in days %}
            <tr>
                <td>{{ day|date:"d.m.Y" }}</td>
                {% for slot in slots %}
                    {% if slot.date == day %}
                        <td>
                            {% if slot.busy %}
                                <button class="btn btn-danger btn-sm" disabled>{{ slot.start|time:"H:i" }}</button>
                            {% else %}
                                <button name="slot" value="{{ day|date:'Y-m-d' }}|{{ slot.start|time:'H:i' }}|{{ slot.free_doctor }}" class="btn btn-success btn-sm">
                                    {{ slot.start|time:"H:i" }}
                                </button>
                            {% endif %}
                        </td>
                    {% endif %}
                {% endfor %}
            </tr>
            {% endfor %}
        </table>
    </form>
    <a href="{% url 'service_list' %}" class="btn btn-secondary mt-3">Назад к услугам</a>
</div>
{% endblock %}