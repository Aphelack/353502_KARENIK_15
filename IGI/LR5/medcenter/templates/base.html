<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <!-- Meta tags for SEO -->
    <meta name="description" content="{% block meta_description %}Медицинский центр - качественное медицинское обслуживание{% endblock %}">
    <meta name="keywords" content="{% block meta_keywords %}медицинский центр, врачи, медицинские услуги, здоровье{% endblock %}">
    <meta name="author" content="{% block meta_author %}Медицинский центр{% endblock %}">
    <meta name="robots" content="{% block meta_robots %}index, follow{% endblock %}">
    
    <!-- Open Graph tags -->
    <meta property="og:title" content="{% block og_title %}{{ title|default:'Медицинский центр' }}{% endblock %}">
    <meta property="og:description" content="{% block og_description %}Медицинский центр - качественное медицинское обслуживание{% endblock %}">
    <meta property="og:type" content="{% block og_type %}website{% endblock %}">
    <meta property="og:url" content="{% block og_url %}{{ request.build_absolute_uri }}{% endblock %}">
    <meta property="og:image" content="{% block og_image %}{% load static %}{% static 'images/logo.svg' %}{% endblock %}">
    
    <!-- Twitter Card tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="{% block twitter_title %}{{ title|default:'Медицинский центр' }}{% endblock %}">
    <meta name="twitter:description" content="{% block twitter_description %}Медицинский центр - качественное медицинское обслуживание{% endblock %}">
    
    <title>{% block title %}Медицинский центр{% endblock %}</title>
    
    <!-- Favicon -->
    {% load static %}
    <link rel="icon" type="image/svg+xml" href="{% static 'images/favicon.svg' %}">
    <link rel="apple-touch-icon" href="{% static 'images/apple-touch-icon.svg' %}">
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Arial, Helvetica, sans-serif; line-height: 1.6; color: #333; }
        img { max-width: 100%; height: auto; }
        a { color: #007bff; text-decoration: none; }
        a:hover { text-decoration: underline; }
        
        /* Header */
        header { background: #2c3e50; color: white; padding: 1rem 0; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        header nav { max-width: 1200px; margin: 0 auto; padding: 0 20px; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; }
        header nav > a { color: white; font-size: 1.5rem; font-weight: bold; display: flex; align-items: center; gap: 10px; }
        header nav > a:hover { text-decoration: none; }
        header nav > a img { height: 40px; width: auto; }
        header nav > ul { list-style: none; display: flex; gap: 20px; flex-wrap: wrap; }
        header nav > ul > li { position: relative; }
        header nav > ul > li > a { color: white; padding: 10px 15px; display: block; }
        header nav > ul > li:hover > a { background: #34495e; border-radius: 4px; }
        header nav ul ul { display: none; position: absolute; background: #34495e; min-width: 200px; box-shadow: 0 2px 10px rgba(0,0,0,0.2); z-index: 1000; }
        header nav ul li:hover > ul { display: block; }
        header nav ul ul li { border-bottom: 1px solid #2c3e50; }
        header nav ul ul li:last-child { border-bottom: none; }
        header nav ul ul a { color: white; padding: 10px 15px; display: block; }
        header nav ul ul a:hover { background: #2c3e50; }
        
        /* Skip link */
        .visually-hidden-focusable { position: absolute; left: -9999px; }
        .visually-hidden-focusable:focus { position: static; left: auto; background: #007bff; color: white; padding: 10px; z-index: 10000; }
        
        /* Main content */
        main { min-height: 400px; }
        main > div { max-width: 1200px; margin: 0 auto; padding: 20px; }
        
        /* Messages */
        .messages { max-width: 1200px; margin: 20px auto; padding: 0 20px; }
        .messages > div { padding: 15px; margin-bottom: 10px; border-radius: 4px; background: #d4edda; border: 1px solid #c3e6cb; color: #155724; }
        
        /* Footer */
        footer { background: #2c3e50; color: white; padding: 40px 0 20px; margin-top: 40px; }
        footer > div { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        footer > div > div:first-child { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px; margin-bottom: 30px; }
        footer h5, footer h6 { margin-bottom: 15px; color: #ecf0f1; }
        footer p, footer li { margin-bottom: 8px; }
        footer ul { list-style: none; }
        footer a { color: #bdc3c7; }
        footer a:hover { color: white; }
        footer hr { border: none; border-top: 1px solid #34495e; margin: 20px 0; }
        footer address { font-style: normal; }
        footer > div > div:last-child { display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; }
        footer small { color: #95a5a6; }
        
        /* Banner section */
        .banner { background: #f8f9fa; padding: 60px 20px; text-align: center; margin-bottom: 40px; }
        .banner img { max-height: 400px; margin-bottom: 20px; border-radius: 8px; }
        .banner h2 { font-size: 2.5rem; margin-bottom: 15px; color: #2c3e50; }
        .banner p { font-size: 1.2rem; color: #666; margin-bottom: 20px; }
        .banner a { display: inline-block; background: #007bff; color: white; padding: 12px 30px; border-radius: 4px; font-weight: bold; }
        .banner a:hover { background: #0056b3; text-decoration: none; }
        
        /* Grid layouts */
        .grid-2 { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; margin: 30px 0; }
        .grid-3 { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 30px 0; }
        .grid-4 { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin: 30px 0; }
        
        /* Card styles */
        .card { background: white; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; transition: transform 0.2s, box-shadow 0.2s; }
        .card:hover { transform: translateY(-5px); box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .card img { width: 100%; height: 200px; object-fit: cover; border-radius: 4px; margin-bottom: 15px; }
        .card h3, .card h4 { margin-bottom: 10px; color: #2c3e50; }
        .card p { color: #666; margin-bottom: 15px; }
        .card .btn { background: #007bff; color: white; padding: 8px 20px; border-radius: 4px; display: inline-block; }
        .card .btn:hover { background: #0056b3; text-decoration: none; }
        
        /* Section headings */
        section { margin: 40px 0; }
        section h2 { font-size: 2rem; margin-bottom: 20px; padding-bottom: 10px; border-bottom: 3px solid #007bff; color: #2c3e50; }
        
        /* Definition lists - inline style */
        dl dt { font-weight: bold; display: inline; }
        dl dt::after { content: " "; }
        dl dd { display: inline; margin: 0; }
        dl dd::after { content: ""; display: block; margin-bottom: 8px; }
        
        /* Tables */
        table { width: 100%; border-collapse: collapse; margin: 20px 0; }
        table caption { font-weight: bold; font-size: 1.1rem; margin-bottom: 10px; text-align: left; }
        table thead { background: #f8f9fa; }
        table th { padding: 12px; text-align: left; border-bottom: 2px solid #dee2e6; font-weight: bold; }
        table td { padding: 10px; border-bottom: 1px solid #dee2e6; }
        table tbody tr:hover { background: #f8f9fa; }
        table tbody tr:last-child td { border-bottom: none; }
        
        /* Figure */
        figure { margin: 20px 0; text-align: center; }
        figure img { max-width: 100%; height: auto; border: 1px solid #dee2e6; border-radius: 4px; }
        figcaption { margin-top: 10px; font-style: italic; color: #666; font-size: 0.9rem; }
        
        /* Partners */
        .partners { display: flex; flex-wrap: wrap; gap: 20px; justify-content: center; align-items: center; }
        .partners a { padding: 15px; background: white; border: 1px solid #dee2e6; border-radius: 8px; transition: transform 0.2s; }
        .partners a:hover { transform: scale(1.05); box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .partners img { height: 60px; width: auto; }
        
        /* Responsive */
        @media (max-width: 768px) {
            header nav { flex-direction: column; }
            header nav > ul { margin-top: 15px; }
            .banner h2 { font-size: 2rem; }
            footer > div > div:last-child { flex-direction: column; gap: 10px; }
        }
    </style>
    
    {% block extra_css %}{% endblock %}
    
    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "MedicalOrganization",
        "name": "Медицинский центр",
        "description": "Медицинский центр предоставляет качественные медицинские услуги",
        "url": "{{ request.build_absolute_uri }}",
        "telephone": "+375-XX-XXX-XX-XX",
        "address": {
            "@type": "PostalAddress",
            "addressLocality": "Минск",
            "addressCountry": "BY"
        }
    }
    </script>
    {% block head %}{% endblock %}
</head>
<body itemscope itemtype="https://schema.org/MedicalOrganization">
    <!-- Skip navigation link for accessibility -->
    <a href="#main-content" class="visually-hidden-focusable">Перейти к основному содержанию</a>
    
    <meta itemprop="name" content="Медицинский центр">
    <meta itemprop="description" content="Медицинский центр предоставляет качественные медицинские услуги">
    <meta itemprop="url" content="{{ request.build_absolute_uri }}">
    
    <!-- Header -->
    <header role="banner">
        <nav role="navigation" aria-label="Главное меню">
            <a href="{% url 'home' %}" itemprop="url">
                <img src="{% static 'images/logo.svg' %}" alt="Логотип медицинского центра" itemprop="logo">
                <span itemprop="name">Медицинский центр</span>
            </a>
            
            <ul>
                <li><a href="{% url 'home' %}">Главная</a></li>
                <li><a href="{% url 'service_list' %}">Услуги</a></li>
                <li><a href="{% url 'news_list' %}">Новости</a></li>
                <li><a href="{% url 'statistics' %}">Статистика</a></li>
                <li>
                    <a href="{% url 'company_info' %}">О компании</a>
                    <ul>
                        <li><a href="{% url 'company_info' %}">О нас</a></li>
                        <li><a href="{% url 'company_history' %}">История</a></li>
                        <li><a href="{% url 'contacts' %}">Контакты</a></li>
                        <li><a href="{% url 'vacancies' %}">Вакансии</a></li>
                    </ul>
                </li>
                <li><a href="{% url 'faq_list' %}">FAQ</a></li>
                <li><a href="{% url 'reviews_list' %}">Отзывы</a></li>
                
                {% if user.is_authenticated %}
                    <li>
                        <a href="#">{{ user.username }}</a>
                        <ul>
                            {% if user.profile.is_client %}
                                <li><a href="{% url 'client_cabinet' %}">Личный кабинет</a></li>
                                <li>
                                    <a href="{% url 'cart' %}">Корзина
                                    {% if user.cart.items_count %}
                                        ({{ user.cart.items_count }})
                                    {% endif %}
                                    </a>
                                </li>
                            {% elif user.profile.is_doctor %}
                                <li><a href="{% url 'doctor_cabinet' %}">Кабинет врача</a></li>
                            {% elif user.profile.is_admin %}
                                <li><a href="{% url 'admin:index' %}">Админ панель</a></li>
                            {% endif %}
                            <li><a href="{% url 'account_logout' %}">Выход</a></li>
                        </ul>
                    </li>
                {% else %}
                    <li><a href="{% url 'account_login' %}">Вход</a></li>
                    <li>
                        <a href="#">Регистрация</a>
                        <ul>
                            <li><a href="{% url 'client_register' %}">Как клиент</a></li>
                            <li><a href="{% url 'doctor_register' %}">Как врач</a></li>
                        </ul>
                    </li>
                {% endif %}
            </ul>
        </nav>
    </header>

    <!-- Breadcrumb navigation -->
    {% block breadcrumb %}{% endblock %}
    
    <!-- Messages -->
    {% if messages %}
        <div class="messages" role="alert">
            {% for message in messages %}
                <div>
                    {{ message }}
                </div>
            {% endfor %}
        </div>
    {% endif %}
    
    <!-- Main content -->
    <main id="main-content" role="main">
        <div>
            {% block content %}
            {% endblock %}
        </div>
    </main>

    <!-- Footer -->
    <footer>
        <div>
            <div>
                <div>
                    <h5>Медицинский центр</h5>
                    <p>Качественное медицинское обслуживание для вашего здоровья.</p>
                </div>
                <div>
                    <h6>Быстрые ссылки</h6>
                    <ul>
                        <li><a href="{% url 'service_list' %}">Услуги</a></li>
                        <li><a href="{% url 'news_list' %}">Новости</a></li>
                        <li><a href="{% url 'contacts' %}">Контакты</a></li>
                        <li><a href="{% url 'privacy_policy' %}">Политика конфиденциальности</a></li>
                    </ul>
                </div>
                <div>
                    <h6>Контакты</h6>
                    <address itemprop="address" itemscope itemtype="https://schema.org/PostalAddress">
                        <p><span itemprop="addressLocality">г. Минск</span>, <span itemprop="streetAddress">ул. Примерная, 1</span></p>
                        <p><a href="tel:+375123456789" itemprop="telephone">+375 (12) 345-67-89</a></p>
                        <p><a href="mailto:info@medcenter.by" itemprop="email">info@medcenter.by</a></p>
                    </address>
                </div>
                <div>
                    <h6>Социальные сети</h6>
                    <div>
                        <a href="#" aria-label="Facebook">Facebook</a>
                        <a href="#" aria-label="Instagram">Instagram</a>
                        <a href="#" aria-label="Telegram">Telegram</a>
                        <a href="#" aria-label="VK">VK</a>
                    </div>
                </div>
            </div>
            <hr>
            <div>
                <div>
                    <p>&copy; {% now "Y" %} Медицинский центр. Все права защищены.</p>
                </div>
                <div>
                    <small>
                        Время: <time datetime="{% now 'c' %}">{% now 'j F Y H:i' %}</time>
                    </small>
                </div>
            </div>
        </div>
    </footer>

    {% block extra_js %}{% endblock %}
</body>
</html>
