{% extends "base.html" %}

{% block content %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
body {
    background-color: #181a1b;
    color: #f1f1f1;
}
.payment-container {
    background: #23272b;
    border-radius: 18px;
    padding: 2rem;
    margin: 2rem auto;
    max-width: 600px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}
.payment-method {
    background: #2c3237;
    border: 2px solid #444;
    border-radius: 12px;
    padding: 1.5rem;
    margin-bottom: 1rem;
    cursor: pointer;
    transition: all 0.2s;
}
.payment-method:hover {
    border-color: #ffe082;
    background: #343a40;
}
.payment-method input[type="radio"] {
    margin-right: 1rem;
}
.payment-method.selected {
    border-color: #ffe082;
    background: #343a40;
}
.order-summary {
    background: #2c3237;
    border-radius: 12px;
    padding: 1.5rem;
    margin-bottom: 2rem;
}
.btn-primary {
    background: #ffe082;
    color: #23272b;
    border: none;
    border-radius: 8px;
    font-weight: bold;
    padding: 0.75rem 2rem;
    width: 100%;
    transition: background 0.2s;
}
.btn-primary:hover {
    background: #ffd54f;
    color: #181a1b;
}
.btn-secondary {
    background: #6c757d;
    color: white;
    border: none;
    border-radius: 8px;
    padding: 0.75rem 2rem;
    transition: background 0.2s;
}
.btn-secondary:hover {
    background: #5a6268;
}
h2, h3, h4 {
    color: #ffe082;
}
</style>

<div class="container mt-5">
    <div class="payment-container">
        <h2 class="mb-4">–û–ø–ª–∞—Ç–∞ –∑–∞–∫–∞–∑–∞</h2>
        
        <div class="order-summary">
            <div class="d-flex justify-content-between mb-2">
                <span>–ó–∞–∫–∞–∑:</span>
                <strong>#{{ order.id }}</strong>
            </div>
            <div class="d-flex justify-content-between">
                <h4>–ö –æ–ø–ª–∞—Ç–µ:</h4>
                <h4>{{ order.total }} BYN</h4>
            </div>
        </div>
        
        <h4 class="mb-3">–í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã</h4>
        <form method="post">
            {% csrf_token %}
            
            <label class="payment-method">
                <input type="radio" name="payment_method" value="card" required>
                <div>
                    <strong>üí≥ –ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞</strong>
                    <p class="mb-0 text-muted small">Visa, Mastercard, Maestro</p>
                </div>
            </label>
            
            <label class="payment-method">
                <input type="radio" name="payment_method" value="cash">
                <div>
                    <strong>üíµ –ù–∞–ª–∏—á–Ω—ã–µ</strong>
                    <p class="mb-0 text-muted small">–û–ø–ª–∞—Ç–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —É—Å–ª—É–≥–∏</p>
                </div>
            </label>
            
            <label class="payment-method">
                <input type="radio" name="payment_method" value="transfer">
                <div>
                    <strong>üè¶ –ë–∞–Ω–∫–æ–≤—Å–∫–∏–π –ø–µ—Ä–µ–≤–æ–¥</strong>
                    <p class="mb-0 text-muted small">–ü–µ—Ä–µ–≤–æ–¥ –Ω–∞ —Ä–∞—Å—á–µ—Ç–Ω—ã–π —Å—á–µ—Ç</p>
                </div>
            </label>
            
            <div class="d-flex gap-3 mt-4">
                <a href="{% url 'order_detail' order.id %}" class="btn btn-secondary">–û—Ç–º–µ–Ω–∞</a>
                <button type="submit" class="btn btn-primary">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –æ–ø–ª–∞—Ç—É</button>
            </div>
        </form>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
// Highlight selected payment method
document.querySelectorAll('.payment-method').forEach(method => {
    method.addEventListener('click', function() {
        document.querySelectorAll('.payment-method').forEach(m => m.classList.remove('selected'));
        this.classList.add('selected');
        this.querySelector('input[type="radio"]').checked = true;
    });
});
</script>
{% endblock %}
